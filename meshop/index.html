<!doctype html>
<html lang="vi">
    <head>
        <meta charset="utf-8" />
        <meta name="google-adsense-account" content="ca-pub-2136247054214280" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <!-- Primary SEO -->
        <title>Tạo Hóa Đơn Online - Miễn Phí, Nhanh, An Toàn</title>
        <meta name="description" content="Công cụ tạo hóa đơn bán hàng online miễn phí, nhanh chóng, an toàn. Xuất PNG/PDF chất lượng cao trong 30 giây. Dành cho shop online, freelancer, doanh nghiệp nhỏ.">
        <meta name="keywords" content="tạo hóa đơn, in hóa đơn, hóa đơn online, xuất hóa đơn pdf, invoice generator, shop online, freelancer">
        <meta name="robots" content="index, follow">
        <link rel="canonical" href="https://minimblog.netlify.app/meshop/">

        <!-- Open Graph / Twitter -->
        <meta property="og:title" content="Tạo Hóa Đơn Bán Hàng Online - Miễn Phí, Nhanh, An Toàn">
        <meta property="og:description" content="Tạo hóa đơn bán hàng chỉ trong 30 giây. Xuất file PNG/PDF miễn phí, an toàn, không cần đăng ký.">
        <meta property="og:image" content="https://minimblog.netlify.app/meshop/assets/uploads/preview.webp">
<link rel="preload" as="image" href="assets/uploads/preview.webp">
        <meta property="og:url" content="https://minimblog.netlify.app/meshop/">
        <meta property="og:type" content="website">
        <meta property="og:locale" content="vi_VN">
        <meta property="og:site_name" content="Tạo Hóa Đơn Online">

        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Tạo Hóa Đơn Bán Hàng Online - Miễn Phí, Nhanh, An Toàn">
        <meta name="twitter:description" content="Xuất hóa đơn PNG/PDF chỉ trong 30 giây. Hoàn toàn miễn phí.">
        <meta name="twitter:image" content="https://minimblog.netlify.app/meshop/assets/uploads/preview.webp">

        <!-- Theme & Preload -->
        <meta name="theme-color" content="#ffffff">
        <link rel="preload" as="image" href="assets/uploads/preview.web">

        <!-- Fonts (preconnect + single request) -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;600&family=Great+Vibes&display=swap" rel="stylesheet" />

        <!-- Favicon & manifest -->
        <link rel="icon" href="/meshop/favicon.ico">
        <link rel="manifest" href="manifest.json">

        <!-- Styles -->
        <style>
/* Critical CSS: Chỉ phần header và form đầu tiên (copy từ styles.css, ví dụ) */
@font-face{font-family:'Playfair Display';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/playfairdisplay/v39/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKeiukDQ.ttf) format('truetype')}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrFJA.ttf) format('truetype')}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6V1s.ttf) format('truetype')}textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e0d8;background:0 0;font-size:14px;color:var(--text);min-width:0}@font-face{font-family:'Great Vibes';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/greatvibes/v20/RWmMoKWR9v4ksMfaWd_JN-XC.ttf) format('truetype')}:root{--page-bg:#f8f1e7;--card-bg:#fff;--text:#40342e;--muted:#7a6f68;--accent:#d4b483;--max-width:980px}.theme-0{--card-bg:#fff;--page-bg:#f8f8f8;--text:#333;--accent:#777;--accent-light:#bbb;--border-color:#ddd}*{box-sizing:border-box}html{scroll-behavior:smooth}body,html{height:100%;margin:0;font-family:Poppins,sans-serif;background:var(--page-bg);color:var(--text)}.wrap{max-width:var(--max-width);margin:12px auto;padding:10px;display:flex;flex-direction:column;gap:12px}header{display:flex;flex-direction:column;align-items:center;text-align:center;padding:50px 10px 30px;background:var(--card-bg);border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.08);position:relative;overflow:hidden}header::before{content:"";position:absolute;top:-6px;left:-6px;width:100%;height:100%;background-image:var(--flower-image);background-repeat:no-repeat;background-position:top left;background-size:180px;opacity:.75;z-index:1}header h1{font-family:"Playfair Display",serif;font-size:32px;font-weight:700;margin:0 0 10px;line-height:1.2;color:var(--text);position:relative;z-index:2;text-shadow:1px 1px 2px rgba(0,0,0,.05);letter-spacing:1.5px}header h1::after{content:"";position:absolute;bottom:-5px;left:0;width:100%;height:4px;background:var(--accent);transform:scaleX(0);transform-origin:bottom left;animation:1.5s cubic-bezier(.2,1,.3,1) forwards drawUnderline;animation-delay:.5s}header .subtitle{margin-top:20px;font-size:18px;font-weight:400;color:var(--muted);max-width:600px;z-index:2}@keyframes slideInLeft{from{opacity:0;transform:translateX(-50px)}to{opacity:1;transform:translateX(0)}}@keyframes slideInRight{from{opacity:0;transform:translateX(50px)}to{opacity:1;transform:translateX(0)}}.feature-item{opacity:0;animation-duration:.8s;animation-timing-function:ease-out;animation-fill-mode:forwards}.feature-item:nth-child(even){animation-name:slideInLeft}.feature-item:nth-child(odd){animation-name:slideInRight}.feature-item:nth-child(1){animation-delay:.1s}.feature-item:nth-child(2){animation-delay:.2s}.feature-item:nth-child(3){animation-delay:.3s}.feature-item:nth-child(4){animation-delay:.4s}.feature-item:nth-child(5){animation-delay:.5s}.feature-item:nth-child(6){animation-delay:.6s}.cta-button{display:inline-block;padding:14px 30px;margin-top:32px;background:var(--text);color:var(--page-bg);text-decoration:none;font-weight:600;font-size:16px;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,.1);z-index:2}.cta-button{position:relative;overflow:hidden;padding-left:25px}.cta-emoji{position:absolute;top:-12px;left:-8px;font-size:1.9em;opacity:.7;transform:rotate(-20deg);z-index:-1}.arrow{display:inline-block}@keyframes bounceY{0%{transform:translateY(0)}30%{transform:translateY(6px)}50%{transform:translateY(4px)}70%{transform:translateY(6px)}100%{transform:translateY(0)}}.bounce{animation:2s cubic-bezier(.2,.8,.2,1) infinite bounceY}.feature-list{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;margin-top:30px;max-width:800px;z-index:2}.floating-install-btn{position:fixed;bottom:20px;left:20px;opacity:.98;padding:8px 16px;background:var(--text);color:var(--page-bg);font-family:Poppins,sans-serif;font-weight:700;font-size:14px;border:none;border-radius:10px;box-shadow:0 4px 6px rgba(0,0,0,.03);animation:2s infinite bounce;z-index:9999}@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}.modal{display:none;position:fixed;z-index:9999;padding-top:80px;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.5)}.modal-content{background:#fff;margin:auto;padding:20px;border-radius:10px;width:90%;max-width:400px}.close{float:right;font-size:20px;font-weight:700}.feature-item{background:rgba(255,255,255,.6);backdrop-filter:blur(5px);padding:36px;border-radius:8px;display:flex;align-items:center;gap:8px;box-shadow:0 2px 8px rgba(0,0,0,.04);font-size:13px;font-weight:600;color:var(--text)}#outThank{font-size:18px}.main{display:flex;flex-direction:column;gap:12px}.panel{background:var(--card-bg);border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(0,0,0,.06)}label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}input,input[type=date],textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e0d8;background:0 0;font-size:14px;color:var(--text);min-width:0}textarea{min-height:70px;resize:vertical}.row{display:flex;gap:8px;flex-wrap:wrap}.col{flex:1;min-width:120px}.small{font-size:12px;color:var(--muted)}.feature-list{display:flex;flex-wrap:wrap;justify-content:center;gap:8px;margin:12px 0}.feature-item{background:var(--card-bg);padding:6px 9px;border-radius:6px;display:flex;align-items:center;gap:8px;box-shadow:0 6px 18px rgba(0,0,0,.06);flex:1;min-width:200px;background:var(--accent);font-size:12px;font-weight:700}.feature-item .icon{font-size:14px}@media (max-width:600px){.feature-item{min-width:80%;justify-content:center}}.preview-wrap{display:flex;justify-content:center}.card{width:360px;background:var(--card-bg);border-radius:14px;padding:16px;position:relative;box-shadow:0 10px 28px rgba(0,0,0,.08);overflow:hidden;z-index:1}.corner{position:absolute;opacity:.45;z-index:0;width:140px;z-index:-1}.corner.tl{top:-6px;left:-6px}.corner.br{bottom:-6px;right:-6px;transform:rotate(180deg)}.logo{max-height:50px;display:block;margin:0 auto 6px;z-index:1}.shop-name{text-align:center;font-family:"Playfair Display",serif;font-size:18px;margin-bottom:6px;color:var(--text)}.title{text-align:center;font-weight:700;color:var(--accent);font-size:12px;margin-bottom:8px}.meta{font-size:13px;color:var(--text);z-index:1;margin-bottom:8px}.meta .row{display:flex;justify-content:space-between;gap:8px}.products{background:rgba(255,255,255,.6);padding:8px;border-radius:8px;z-index:1;margin-bottom:8px;min-height:40px}.total{display:flex;justify-content:space-between;font-weight:700;padding-top:8px;border-top:1px solid rgba(0,0,0,.08);margin-top:8px}.note{text-align:center;font-style:italic;color:var(--muted);font-size:13px;margin-top:8px}.qr{display:block;margin:8px auto 0;max-width:140px}.footer{text-align:center;font-size:16px;color:var(--muted);margin-top:8px;font-family:"Great Vibes",cursive}@media (min-width:900px){.main{flex-direction:row;gap:16px}.left{flex:0 0 420px}.right{flex:1;display:flex;flex-direction:column;align-items:center;gap:10px}.card{width:420px}}.upload-indicator{font-size:12px;margin-top:4px;padding:4px 8px;border-radius:4px;display:none}
</style>
<link rel="stylesheet" href="styles.css" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="styles.css"></noscript>

        <!-- External libs (defer to avoid blocking render) -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>

        <!-- Structured Data -->
        <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "WebApplication",
          "name": "Tạo Hóa Đơn Bán Hàng Online",
          "url": "https://minimblog.netlify.app/meshop/",
          "description": "Công cụ tạo hóa đơn bán hàng miễn phí, nhanh, an toàn, không cần đăng ký.",
          "applicationCategory": "BusinessApplication",
          "operatingSystem": "All",
          "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "VND"
          }
        }
        </script>
        <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Làm thế nào để tạo hóa đơn online miễn phí?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Chỉ cần nhập thông tin shop, khách hàng, sản phẩm và xuất file PNG/PDF trong 30 giây."
      }
    },
    {
      "@type": "Question",
      "name": "Công cụ này có an toàn không?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Hoàn toàn an toàn, dữ liệu lưu cục bộ trên trình duyệt của bạn."
      }
    }
  ]
}
</script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BCJ7KX3WXT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BCJ7KX3WXT');
</script>
    </head>
    <body class="theme-0">
        <div class="wrap">
            <header>
                <h1>Tạo hóa đơn bán hàng siêu nhanh 🚀</h1>
                
                <h2 class="subtitle">
                    <span class="cursor"></span>
                    Hoàn thành trong 30 giây - Miễn Phí - Tiện lợi - Dành cho
                    shop online, freelancer & doanh nghiệp nhỏ.
                </h2>
                <a href="#invoiceForm" class="cta-button"
                    ><span class="cta-emoji">📃</span>Tạo Hóa Đơn Ngay Bây Giờ
                    <span class="arrow bounce">⇓</span>
                </a>
                <h3 class="mt6 small"
                    >(Nhanh - Miễn Phí - Không cần đăng ký)</h3
                >
                <button style="display:none;" id="installBtn" class="floating-install-btn" aria-hidden="true">
                  📲 Cài đặt App
                </button>
                <div class="feature-list" role="list" aria-label="Tính năng nổi bật">
                    <div class="feature-item" role="listitem">
                        <span class="icon">✨</span>
                        <span>Hoàn toàn miễn phí</span>
                    </div>
                    <div class="feature-item" role="listitem">
                        <span class="icon">🔒</span>
                        <span>An toàn & Riêng tư</span>
                    </div>
                    <div class="feature-item" role="listitem">
                        <span class="icon">🔑</span>
                        <span>Không cần đăng nhập</span>
                    </div>
                    <div class="feature-item" role="listitem">
                        <span class="icon">🖌️</span>
                        <span>Tùy chỉnh linh hoạt</span>
                    </div>
                    <div class="feature-item" role="listitem">
                        <span class="icon">⚡</span>
                        <span>Xem trước trực tiếp</span>
                    </div>
                    <div class="feature-item" role="listitem">
                        <span class="icon">📥</span>
                        <span>Xuất file chất lượng cao</span>
                    </div>
                </div>
            </header>
<div class="text-center bounce">▼</div>
            <div class="main">
                <div class="left panel">
                  
<div id="invoiceForm" class="flex-column-gap-10">
    <!-- Nhóm 1: Thông tin cửa hàng -->
    <fieldset id="qrGenerator">
  <legend><span aria-hidden="true">💳</span>QR (⚠️ Tính năng đang phát triển)</legend>
  <div class="row">
    <div class="col">
      <label for="bankSelect">Ngân hàng</label>
      <select id="bankSelect" required>
        <option value="">Chọn ngân hàng</option>
      </select>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <label class="mt6" for="accountNo">Số tài khoản</label>
      <input id="accountNo" type="text" pattern="[0-9]{6,19}" required placeholder="Nhập số tài khoản">
    </div>
    <div class="col">
      <label class="mt6" for="accountName">Tên tài khoản</label>
      <input id="accountName" type="text" maxlength="50" required placeholder="Nhập tên tài khoản">
    </div>
  </div>
  <div class="row">
    <div class="col">
      <label class="mt6" for="qrMemo">Nội dung chuyển khoản</label>
      <input id="qrMemo" type="text" maxlength="25" placeholder="Nội dung (tùy chọn)">
    </div>
    <div class="col">
      <label>Số tiền</label>
      <span id="qrAmountPreview" class="text-med">(Lấy từ tổng hóa đơn)</span>
    </div>
  </div>
  <div class="row">
    <button id="generateQrBtn" class="mt6 btn">Tạo mã QR</button>
  </div>
  <div id="qrUrlIndicator" class="upload-indicator"></div>
</fieldset>
    
    <fieldset>
        <legend> <span aria-hidden="true">⌂</span>Thông tin cửa hàng</legend>
        <label for="shopName">Tên shop của bạn</label>
        <input type="text" required pattern="[A-Za-z0-9\s\-\&]+" maxlength="50"  id="shopName" placeholder="VD: Shop Của Tôi" />
        <label for="shopLogo" class="mt-6">Logo shop (upload ảnh &lt;1MB)</label>
        
        <input id="shopLogo" type="file" accept="image/*" />
        <div id="shopLogoIndicator" class="upload-indicator" aria-live="polite"></div>
                <label for="qrImage" class="mt-6">QR chuyển khoản (upload ảnh &lt;1MB)</label>
        <input id="qrImage" type="file" accept="image/*" />
        <div id="qrImageIndicator" class="upload-indicator" aria-live="polite"></div>
                <label for="thankYouText" class="mt-6">Lời cảm ơn KH</label>
        <input type="text"  id="thankYouText" placeholder="VD: Cảm ơn anh/chị đã tin tưởng Shop 🌿"  maxlength="50"  />
    </fieldset>

    <!-- Nhóm 2: Thông tin khách hàng -->
    <fieldset>
        <legend><span aria-hidden="true">☻</span>Thông tin khách hàng</legend>
        <label for="customerName">Tên khách</label>
        <input id="customerName" placeholder="VD: Nguyễn Văn A" required pattern="[A-Za-z0-9\s\-\&]+" maxlength="50"  />
        <div class="row mt-6">
            <div class="col">
                <label for="customerPhone">SĐT</label>
                <input id="customerPhone" placeholder="VD: 0909xxxxxx" type="tel"  required />
            </div>
            <div class="col">
                <label for="orderDate">Ngày đặt hàng</label>
                <input id="orderDate" required type="date" />
            </div>
        </div>
        <label for="customerAddress" class="mt-6">Địa chỉ nhận</label>
        <textarea id="customerAddress" maxlength="100" required placeholder="VD: 123 Lê Lợi, Quận 1, TP.HCM"></textarea>
    </fieldset>

    <!-- Nhóm 3: Chi tiết đơn hàng -->
    <fieldset>
        <legend><span aria-hidden="true">☑</span>Chi tiết đơn hàng</legend>
        <div class="row">
            <div class="col">
                <label for="orderId">Mã đơn</label>
                <input id="orderId" placeholder="VD: DH001" />
            </div>
            <div class="col">
                <label for="expectedDate">Ngày nhận dự kiến</label>
                <input id="expectedDate" required type="date" />
            </div>
        </div>
        <div class="row mt-6">
            <div class="col">
                <label for="paymentMethod">P.thức thanh toán</label>
                <select id="paymentMethod">
                    <option>Tiền mặt</option>
                    <option>Chuyển khoản</option>
                    <option>Thanh toán khi nhận hàng (COD)</option>
                </select>
            </div>
            <div class="col">
                <label for="shippingFee">Phí ship (VNĐ)</label>
                <input id="shippingFee" type="number" placeholder="0" />
            </div>
        </div>
        <label for="paidAmount" class="mt-6">Thanh toán trước (VNĐ)</label>
        <input id="paidAmount" type="number"  placeholder="0" />
        <label for="shortNote" class="mt-6"  >Ghi chú ngắn</label>
        <input id="shortNote" maxlength="50" placeholder="VD: Giao giờ hành chính" />
    </fieldset>

    <!-- Nhóm 4: Sản phẩm -->
    <fieldset>
        <legend><span aria-hidden="true">⬡</span>Sản phẩm</legend>
        <div id="productList"></div>
        <div class="actions mt-8">
            <button id="addProductBtn" class="btn" type="button">+ Thêm SP</button>
            <button id="clearProducts" class="btn ghost" type="button">Xóa hết</button>
        </div>
    </fieldset>

    <!-- Nhóm 5: Ghi chú dài -->
    <fieldset>
        <legend><span aria-hidden="true">✎</span>Ghi chú dài (nếu cần)</legend>
        <label for="note">Ghi chú cho đơn</label>
        <textarea id="note" maxlength="500" placeholder="Ghi chú cho đơn"></textarea>
    </fieldset>

    <!-- Nhóm 6: Tùy chỉnh giao diện -->
    <fieldset>
        <legend><span aria-hidden="true">⚙</span>Tùy chỉnh giao diện</legend>
        <label for="flowerImage">Ảnh decor góc (upload ảnh &lt;1MB)</label>
        <input id="flowerImage" type="file" accept="image/*" />
        <div id="flowerImageIndicator" class="upload-indicator" aria-live="polite"></div>
        <label class="mt-6">Chọn ảnh decor góc có sẵn</label>
        <div class="image-selector flex-gap-8 mt-6 ">
            <img class="predefined-flower-img" src="assets/uploads/transparent.webp" data-image="assets/uploads/transparent.webp" alt="Transparent (không sử dụng decor)" />
            <img class="predefined-flower-img" src="assets/uploads/flower1.webp" data-image="assets/uploads/flower1.webp" alt="Hình ảnh trang trí hóa đơn online - Hoa 1" />
            <img class="predefined-flower-img" src="assets/uploads/flower2.webp" data-image="assets/uploads/flower2.webp" alt="Hình ảnh trang trí hóa đơn online - Hoa 2" />
            <img class="predefined-flower-img" src="assets/uploads/flower3.webp" data-image="assets/uploads/flower3.webp" alt="Hình ảnh trang trí hóa đơn online - Hoa 3" />
            <img class="predefined-flower-img" src="assets/uploads/flower4.webp" data-image="assets/uploads/flower4.webp" alt="Hình ảnh trang trí hóa đơn online - Hoa 4" />
            <img class="predefined-flower-img" src="assets/uploads/flower5.webp" data-image="assets/uploads/flower5.webp" alt="Hình ảnh trang trí hóa đơn online - Hoa 5" />
            <img class="predefined-flower-img" src="assets/uploads/flower6.webp" data-image="assets/uploads/flower6.webp" alt="Hình ảnh trang trí hóa đơn online - Hoa 6" />
            <img class="predefined-flower-img" src="assets/uploads/flower7.webp" data-image="assets/uploads/flower7.webp" alt="Hình ảnh trang trí hóa đơn online - Hoa 7" />
        </div>


        <div class="mt-8">
            <label>Chọn bộ màu</label>
            <div id="themeSelect" class="theme-selector flex-gap-8 mt-6 ">
                <div class="swatch theme-btn" data-theme="theme-0" aria-label="Màu mặc định"></div>
                <div class="swatch theme-btn" data-theme="theme-1" aria-label="Màu vàng nhẹ"></div>
                <div class="swatch theme-btn" data-theme="theme-2" aria-label="Màu xanh nhạt"></div>
                <div class="swatch theme-btn" data-theme="theme-3" aria-label="Màu xanh dương"></div>
                <div class="swatch theme-btn" data-theme="theme-4" aria-label="Màu hồng nhẹ"></div>
                <div class="swatch theme-btn" data-theme="theme-5" aria-label="Màu vàng đậm"></div>
                <div class="swatch theme-btn" data-theme="theme-6" aria-label="Màu xanh biển"></div>
                <div class="swatch theme-btn" data-theme="theme-7" aria-label="Màu tím"></div>
                <div class="swatch theme-btn" data-theme="theme-8" aria-label="Màu cam"></div>
            </div>
        </div>
    </fieldset>

    <!-- Nút hành động -->
    <div class="flex-gap-8 mt-36">
        <button id="saveBtn" class="btn" type="button">Lưu tùy chọn</button>
        <button id="resetBtn" class="btn ghost" type="button">↺ Reset</button>
    </div>
</div>
                </div>
<div class="text-center bounce">▼</div>
                <div class="right panel">
                    <div>
                        <div style="margin-bottom:6px;">
                            <strong  class="small">Xem trước hóa đơn</strong>
                        </div>
                    </div>

                    <div class="preview-wrap">
                        <div
                            id="card"
                            class="card"
                            role="img"
                            aria-label="Xem trước hóa đơn">
                            <img
                                id="flowerTL"
                                class="corner tl"
                                src=""
                                loading="lazy" alt="Ảnh trang trí góc trên trái"
                                style="display: none" />
                            <img
                                id="flowerBR"
                                class="corner br"
                                src=""
                                loading="lazy" alt="Ảnh trang trí góc dưới phải"
                                style="display: none" />
                            <img
                                id="outLogo"
                                class="logo"
                                src=""
                                loading="lazy" alt="Logo cửa hàng"
                                style="display: none" />
                            <div class="shop-name" id="outShopName">
                                Shop Của Tôi
                            </div>
                            <div class="title">HÓA ĐƠN THANH TOÁN</div>

                            <div class="meta">
                                <div class="row">
                                    <div>
                                        <strong>Khách:</strong>
                                        <span id="outCustomerName"
                                            >Nguyễn Văn A</span
                                        >
                                    </div>
                                    <div>
                                        <strong>SĐT:</strong>
                                        <span id="outCustomerPhone"
                                            >0909xxxxxx</span
                                        >
                                    </div>
                                </div>

                                <div style="margin-top: 6px">
                                    <strong>Địa chỉ:</strong>
                                    <span id="outCustomerAddress"
                                        >123 Lê Lợi, Q1</span
                                    >
                                </div>

                                <div style="margin-top: 6px" class="row">
                                    <div>
                                        <strong>Ngày đặt hàng:</strong>
                                        <span id="outOrderDate"
                                            >__/__/____</span
                                        >
                                    </div>
                                    <div>
                                        <strong>Nhận dự kiến:</strong>
                                        <span id="outExpectedDate"
                                            >__/__/____</span
                                        >
                                    </div>
                                </div>
                                <div style="margin-top: 6px" class="row">
                                    <div>
                                        <strong>Mã:</strong>
                                        <span id="outOrderId">DH001</span>
                                    </div>
                                    <div>
                                        <strong>Thanh toán:</strong>
                                        <span id="outPaymentMethod"
                                            >Tiền mặt</span
                                        >
                                    </div>
                                </div>
                            </div>

                            <div class="products" id="outProducts" aria-live="polite"></div>

                            <div class="total text-med">
                                <div>Tổng</div>
                                <div style="text-align: right;" id="outTotal">0 ₫</div>
                            </div>
                            <div class="total text-med">
                                <div>Đã thanh toán</div>
                                <div style="text-align: right; "id="outPaidAmount">0 ₫</div>
                            </div>
                                                        <div class="total">
                                <div>Còn thanh toán</div>
                                <div style="text-align: right; "id="outRemaining">0 ₫</div>
                            </div>

                            <div class="note" id="outShortNote"></div>
                            <img
                                id="outQr"
                                class="qr display-none"
                                src=""
                                loading="lazy" alt="QR chuyển khoản"
                                />
                            <div class="footer" id="outThank">
                                Cảm ơn anh/chị đã tin tưởng Shop!
                            </div>
                        </div>
                    </div>
                    <p  class="italic small">
                        Kiểm tra kỹ thông tin trước khi in hoặc gửi cho khách
                    </p>
<div class="row">
  <label class="display-none"><input type="checkbox" id="showQr" checked> Hiển thị mã QR trên hóa đơn</label>
</div>
                    <div
                    class="btns"
                    id="btns"
                        >
                        	<button class="btn" id="shareBtn" type="button">
  📤 Chia sẻ ảnh
</button>

                        <button id="downloadBtn" class="btn" type="button">🖼️ Tải xuống PNG</button>
                        <button id="downloadPdf" class="btn" type="button">📄 Tải xuống PDF</button>
                        <button id="saveToHistoryBtn" class="btn" type="button">
                            🕓 Lưu vào Lịch sử
                        </button>
                    </div>
                </div>
            </div>

            <div
                class="panel"
                id="history-container"
                >
                <div
                    >
                    <div>
                        <strong class="small">Lịch sử các đơn gần đây</strong>
                    </div>
                    <button
                        id="clearHistoryBtn"
                        class="btn warn"
                        type="button"
                        >
                        Xóa Lịch sử
                    </button>
                </div>
                <ul id="history-list" aria-live="polite"></ul>
            </div>

            <footer>
                <div >
                    <span class="italic"
                        >Dữ liệu được lưu cục bộ trên trình duyệt của bạn – Hoàn
                        toàn riêng tư</span
                    >
                </div>
                <div class="panel" style="max-width: 600px; margin: 24px auto">
                    <strong class="small">Góp ý & lời chúc</strong>
                    <p class="text-med clr-text">
                        Bạn có ý tưởng hay ho hay phát hiện một lỗi nhỏ?🪲

                        <br />

                        Mọi lời cảm ơn hay góp ý đều là món quà quý giá! 🎁
                    </p>

<form action="https://formspree.io/f/xrblrdel" method="POST">
    <label style="text-align: left;" class="small" for="email">Email của bạn:</label>
    <input type="email" id="email" name="email" placeholder="VD: nguyenvana@gmail.com" >
    <br/>
    <label for="feedback" class="small" style="text-align: left; display: block; margin-bottom: 4px; margin-top: 4px;">Lời nhắn của bạn:</label>
    <textarea id="feedback" maxlength="500" name="feedback" placeholder="VD: 'Nên thêm tùy chọn <abc> thì tốt quá!😊'"  style="min-height: 80px"></textarea>
    <input type="text" name="_gotcha" style="display:none"> <!-- Honeypot field -->
    <div class="mt6">
        <button class="btn text-med w100" type="submit" >💌 Gửi đi</button>
    </div>
</form>
                </div>

                <div class="panel" style="max-width: 600px; margin: 24px auto">
                    <strong class="small">Giới thiệu</strong>
                    <p class="text-med clr-text">
                        Đây là công cụ giúp bạn tạo hóa đơn bán hàng online nhanh chóng và miễn phí. <br/>Chỉ cần nhập thông tin, tùy chỉnh logo, màu sắc và xuất file PNG/PDF chất lượng cao. <br/>Phù hợp cho shop online, freelancer, doanh nghiệp nhỏ muốn chuyên nghiệp hóa bán hàng.
                    </p>
                </div>

                <div>Được tạo bởi dvp19</div>
                <div >
                    <p>
                        Bạn thích công cụ này? Ủng hộ mình để duy trì và phát
                        triển thêm tính năng nhé!
                    </p>
                    <a
                        href="https://www.buymeacoffee.com/phi19"
                        target="_blank"
                        rel="noopener noreferrer"
                        >
                        <img
                            src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&slug=phi19&button_colour=FFDD00&font_colour=000000&font_family=Poppins&outline_colour=000000&coffee_colour=ffffff"
                            loading="lazy" alt="Buy Me A Coffee" />
                    </a>
                </div>
                <p><a   href="privacy.html" target="_blank" rel="noopener noreferrer">Chính sách bảo mật</a></p>
            </footer>
        </div>
        
        <!-- Modal hướng dẫn iOS -->
        <div id="iosInstallModal" class="modal" aria-hidden="true">
          <div class="modal-content">
            <button class="close" aria-label="Đóng">&times;</button>
            <h2>📱 Cài đặt ứng dụng</h2>
            <p>Để cài ứng dụng trên iPhone/iPad:</p>
            <ol>
              <li>Bấm nút <strong>Chia sẻ</strong> (🔼) ở thanh công cụ Safari.</li>
              <li>Chọn <strong>Thêm vào Màn hình chính</strong>.</li>
              <li>Nhấn <strong>Thêm</strong> để hoàn tất.</li>
            </ol>
            <img src="ios-add-home.webp" alt="Hướng dẫn cài đặt ứng dụng tạo hóa đơn online trên iOS" class="w100 br8">
          </div>
          
        </div>

        <!-- Main script (kept external, defer) -->
        <script src="script.js" defer></script>

        <!-- Small safe inline script for PWA install prompt (guarded to avoid null errors) -->
       
    </body>
</html>